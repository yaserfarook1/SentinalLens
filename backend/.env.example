# ========== BACKEND CONFIGURATION EXAMPLE ==========
# IMPORTANT: This file is a TEMPLATE ONLY
# NEVER commit the actual .env file to Git
# NEVER put secrets in this file
#
# For local development:
# 1. Copy this file to .env.local
# 2. Fill in the AZURE_* settings with your values
# 3. Never commit .env.local
#
# All secrets will be fetched from Azure Key Vault at runtime

# ========== ENVIRONMENT ==========
ENVIRONMENT=dev
DEBUG=False

# ========== AZURE SUBSCRIPTION & TENANT ==========
# Get these from: az account show
AZURE_SUBSCRIPTION_ID=<your-subscription-id-here>
AZURE_TENANT_ID=<your-tenant-id-here>

# ========== AZURE KEY VAULT ==========
# URL where all secrets are stored
# Format: https://<vault-name>.vault.azure.net/
AZURE_KEY_VAULT_URL=https://<vault-name>.vault.azure.net/

# ========== AZURE SENTINEL / LOG ANALYTICS ==========
# Optional: Set if you have specific workspaces to target
# AZURE_SENTINEL_WORKSPACE_ID=<workspace-id>
# AZURE_LOG_ANALYTICS_WORKSPACE_ID=<workspace-id>

# ========== SERVICE PRINCIPAL CREDENTIALS (for backend Azure API calls) ==========
# IMPORTANT: The backend should authenticate as its own service principal,
# NOT as the logged-in user. This ensures proper security and audit trail.
#
# Steps to create a service principal:
# 1. az ad sp create-for-rbac --name "SentinelLens-Backend" \
#      --role "Log Analytics Reader" \
#      --scopes /subscriptions/<your-subscription-id>
#
# 2. Copy the "appId" to AZURE_CLIENT_ID
# 3. Copy the "password" to AZURE_CLIENT_SECRET
#
# If not set, the backend will fall back to DefaultAzureCredential
# (which might pick up your personal account from az login) - DO NOT use in production!
AZURE_CLIENT_ID=<service-principal-client-id>
AZURE_CLIENT_SECRET=<service-principal-client-secret>

# ========== FRONTEND SETTINGS ==========
# Where the Next.js frontend is hosted (for CORS)
FRONTEND_URL=http://localhost:3000
API_BASE_URL=http://localhost:8000

# ========== APPROVAL & SECURITY ==========
# Entra ID security group ID for approval access
APPROVAL_GROUP_ID=<security-group-id>

# ========== FEATURES ==========
ENABLE_PRESIDIO_MASKING=True
ENABLE_PROMPT_SHIELD=True
ENABLE_AUDIT_LOGGING=True

# ========== RATE LIMITING & BUDGETS ==========
AGENT_MAX_TOKENS_PER_RUN=50000
AGENT_TIMEOUT_SECONDS=600
API_RATE_LIMIT_PER_MINUTE=100

# ========== SECRETS (fetched from Key Vault at runtime) ==========
# Do NOT set these here - they are fetched from Azure Key Vault
#
# Required secrets in Key Vault:
# - AZURE_OPENAI_KEY: Azure OpenAI API key
# - AZURE_OPENAI_ENDPOINT: Azure OpenAI endpoint URL
# - CONTENT_SAFETY_KEY: Azure Content Safety API key (Prompt Shield)
# - CONTENT_SAFETY_ENDPOINT: Azure Content Safety endpoint URL
